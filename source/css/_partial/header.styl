#header
    @extend $block
    background: white
    position: relative
    a, a:visited
        white-space: nowrap
        transition: 0.2s ease
        color: color-default
    a:hover
        color: color-link

$header-block
    height: logo-height
    line-height: logo-height
    padding: ((header-height - logo-height)/2) 15px

$header-block-left
    float: left

$header-block-right
    float: right

.header-inner
    height: 100%
    position: relative
    #logo
        @extend $header-block
        @extend $header-block-left
        display: none
        .logo
            margin-right: 5px
            display: inline-block
        .site-title
            font-size: 16px
            display: inline-block
            vertical-align: top
            font-weight: 600
        @media mq-normal
            display: inline-block

#header-title
    text-align: center
    height: logo-height
    position: absolute
    top: 50%
    left: 0
    margin-top: logo-height * -0.5

.header-sub
    border-top: 1px solid color-border
    ul
        clearfix()
        margin: 0 15px
        li
            float: left
            margin: 0 10px
            a
                display: inline-block
                line-height: header-sub-height
    .main-nav-link
        display: inline-block
        line-height: header-sub-height

#header-sub
    @media mq-mobile
        display: none
    @media mq-mini
        display: none

$dropdown
    ul
        position: relative;
        display: block;
        float:left;
        margin:0;
        padding:0
    ul a
        display:block;
        color:#333;
        text-decoration:none;
        font-weight:700;
        font-size:12px;
        line-height:32px;
        padding:0 15px;
    ul li
        position:relative;
        float:left;
        margin:0;
        padding:0;
    ul li.current-menu-item
        background:#ddd;
    ul li:hover
        background:#e2e2e2;
    ul ul
        display:none;
        position:absolute;
        top:100%;
        left:0;
        background:#e2e2e2;
        padding:0;
    ul ul li
        float:none;
    ul ul a
        line-height:120%;
        padding:10px 15px;
    ul li:hover > ul
        display:block;
        z-index:2;

#main-nav
    @extend $header-block
    @extend $header-block-left
    @extend $dropdown
    @media mq-mobile
        display: none;
    @media mq-mini
        display: none;

#main-nav-mobile
    margin: 0;
    padding: 20px 20px;
    @extend $dropdown
    @media mq-tablet
        display: none
    @media mq-normal
        display: none
    #menuToggle
        display: block;
        top: 50px;
        left: 50px;
        z-index: 1;
        -webkit-user-select: none;
        user-select: none;

    #menuToggle input
        display: block;
        width: 40px;
        height: 32px;
        position: absolute;
        cursor: pointer;
        opacity: 0; /* hide this */
        z-index: 3; /* and place it over the hamburger */
        -webkit-touch-callout: none;

    #menuToggle span
        display: block;
        width: 33px;
        height: 4px;
        margin-bottom: 5px;
        position: relative;
        background: #cdcdcd;
        border-radius: 3px;
        z-index: 2;
        transform-origin: 4px 0px;
        transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0),
                    background 0.5s cubic-bezier(0.77,0.2,0.05,1.0),
                    opacity 0.55s ease;

    #menuToggle span:first-child
        transform-origin: 0% 0%;

    #menuToggle span:nth-last-child(2)
        transform-origin: 0% 100%;

    #menuToggle input:checked ~ span
        opacity: 1;
        transform: rotate(45deg) translate(-2px, -1px);
        background: #232323;

    #menuToggle input:checked ~ span:nth-last-child(3)
        opacity: 0;
        transform: rotate(0deg) scale(0.2, 0.2);
    #menuToggle input:checked ~ span:nth-last-child(2)
        opacity: 1;
        transform: rotate(-45deg) translate(0, -1px);
    #menu
        text-decoration: none;
        position: absolute;
        width: 145px;
        z-index: 1;
        margin: -100px 0 0 -50px;
        padding: 50px;
        padding-top: 125px;
        background: #ededed;
        -webkit-font-smoothing: antialiased;
        /* to stop flickering of text in safari */
        transform-origin: 0% 0%;
        transform: translate(-100%, 0);
        transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
    #menu li a
        text-decoration: none;
        transition: color 0.3s ease;
        color: #232323;
    #menu li a:hover
        color: tomato;
    #menu li
        text-decoration: none;
        padding: 10px 10px;
        font-size: 22px;
    #menuToggle input:checked ~ ul
        transform: scale(1.0, 1.0);
        opacity: 1;
    ul ul
        z-index: 3;
        li
          float: inherit;
    ul li:focus ul
        display:block;
        visibility: visible;

$nav-link
    float: left;
    display: block;
    padding: 0 15px;

.nav-icon
    @extend $nav-link
    text-align: center
    font-size: font-size
    width: font-size
    height: font-size
    position: relative
    cursor: pointer
    height: logo-height !important
    line-height: logo-height !important

.main-nav-link
    @extend $nav-link
    font-weight: 300

#sub-nav
    @media mq-normal
        display: none
    @extend $header-block
    @extend $header-block-right
    #profile-nav
        #profile-anchor
            clearfix()
            display: block
            height: logo-height
            line-height: logo-height
        .avatar, .fa
            float: left
        .avatar
            width: logo-height
            height: logo-height
            margin-right: 8px
        .fa
            line-height: logo-height

#search-form-wrap
    @media mq-mini
        display: none
    @extend $header-block
    @extend $header-block-right
    .search-form
        position: relative
        .search-form-input
            width: 100%
            padding: 0 30px 0 15px
            line-height: logo-height
            height: logo-height !important
            border-radius: ((logo-height + 2)/2)
            &::-webkit-search-results-decoration
            &::-webkit-search-cancel-button
                -webkit-appearance: none
        .search-form-submit
            top: 50%
            right: 15px
            border: none
            cursor: pointer
            margin-top: -7px
            background: none
            position: absolute
            font: 13px font-icon
            font-family: 'FontAwesome'
            &:before
                content: '\f002'
            &:hover, &:focus
                color: #777

.search-form-input,
.search-form-input.ins-search-input,
.search-form-input.st-ui-search-input,
.search-form-input.st-default-search-input
    -webkit-appearance: textarea
    appearance: textarea
    padding: 0
    width: 200px
    box-shadow: none
    color: color-default
    transition: 0.2s ease
    box-sizing: border-box
    height: auto !important
    line-height: line-height
    outline: none !important
    background: none !important
    font: font-size font-sans
    border: 1px solid color-border !important
    &:focus
        border-color: color-link !important
    &::-webkit-search-results-decoration
    &::-webkit-search-cancel-button
        -webkit-appearance: none

#main-nav-mobile
    overflow-y: hidden
    overflow-x: auto
    .menu
        clearfix()
        margin: 0
        height: header-sub-height
        .search-form-input
            display: none
            @media mq-mini
                display: block
            padding: 0 10px
            margin-right: 15px
            height: header-sub-height - 16
            line-height: header-sub-height - 16
            border-radius: ((header-sub-height - 16)/2)
            &::-webkit-search-results-decoration
            &::-webkit-search-cancel-button
                -webkit-appearance: none
